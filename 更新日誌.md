# BizCard Pro 更新日誌

## 🎉 v1.1.0 - Google 登入功能 (2025-10-23)

### ✨ 新功能

#### 1. Google 登入整合
- ✅ 新增 Google OAuth 登入功能
- ✅ 支援 Google 帳號一鍵登入
- ✅ 保留訪客模式（匿名登入）選項
- ✅ 自動跳轉機制（未登入 → 登入頁，已登入 → 首頁）

#### 2. 登入頁面
- 📄 新檔案：`src/app/login/page.tsx`
- 🎨 精美的登入 UI 設計
- 🔘 Google 登入按鈕（含官方 Logo）
- 👤 訪客登入按鈕
- ⏳ Loading 狀態顯示
- ⚠️ 錯誤處理和提示

#### 3. 設定頁面增強
- 👤 用戶資訊卡片
  - 顯示 Google 帳號頭像
  - 顯示用戶名稱和 Email
  - 訪客模式標記
- 🚪 登出功能按鈕
- 🎨 視覺化改進

#### 4. 身份驗證增強
- 🔐 更新 `src/firebase/non-blocking-login.tsx`
  - 新增 `signInWithGoogle()` 函數
  - 新增 `signOut()` 函數
- 🔄 主頁面登入流程改進
  - 移除自動匿名登入
  - 改為重定向到登入頁面

#### 5. 多語言支援
- 🌐 繁體中文翻譯
  - 登入相關 17 個新詞條
- 🌐 英文翻譯
  - 登入相關 17 個新詞條
- 📝 翻譯檔案：
  - `src/lib/locales/zh-TW.json`
  - `src/lib/locales/en.json`

#### 6. 文件更新
- 📚 `GOOGLE_AUTH_SETUP.md` - Google 登入完整設定指南
- 📚 `README.md` - 更新快速開始流程
- 📚 `更新日誌.md` - 本文件

### 🔧 技術改進

#### 檔案變更
```
新增：
- src/app/login/page.tsx
- GOOGLE_AUTH_SETUP.md
- 更新日誌.md

修改：
- src/firebase/non-blocking-login.tsx
- src/app/page.tsx
- src/app/settings/page.tsx
- src/lib/locales/zh-TW.json
- src/lib/locales/en.json
- README.md
- firestore.rules（註解更新）
```

#### 依賴套件
- 無新增套件（使用現有的 Firebase Auth）

### 🐛 修復問題

#### Firebase 權限問題
- **問題**：匿名登入時出現 "Missing or insufficient permissions" 錯誤
- **原因**：Firestore 安全規則與匿名登入的衝突
- **解決方案**：
  1. 新增 Google 登入選項
  2. 提供文件指引部署正確的安全規則
  3. 保留訪客模式作為備選

### 📊 功能對照

| 功能 | v1.0.0 | v1.1.0 |
|-----|--------|--------|
| 登入方式 | 自動匿名 | Google + 訪客選擇 |
| 登入頁面 | ❌ | ✅ |
| 用戶資訊顯示 | ❌ | ✅ |
| 登出功能 | ❌ | ✅ |
| Google 頭像 | ❌ | ✅ |
| 權限問題 | ⚠️ 常見 | ✅ 解決 |
| 跨裝置同步 | ⚠️ 不穩定 | ✅ 穩定 |

### 🚀 使用指南

#### 設定步驟
1. **Firebase Console 設定**
   ```
   1. 進入 Firebase Console
   2. Authentication → Sign-in method
   3. 啟用 Google 提供者
   4. 儲存設定
   ```

2. **部署 Firestore 規則**
   ```bash
   firebase deploy --only firestore:rules
   ```

3. **啟動應用程式**
   ```bash
   npm run dev
   ```

4. **測試登入**
   - 訪問 http://localhost:9002
   - 自動跳轉到 /login
   - 選擇 Google 登入或訪客模式

#### 完整文件
- [GOOGLE_AUTH_SETUP.md](./GOOGLE_AUTH_SETUP.md) - Google 登入設定
- [README.md](./README.md) - 專案說明
- [SETUP.md](./SETUP.md) - 基本設定

### ⚠️ 重要提醒

1. **首次使用 Google 登入**
   - 必須先在 Firebase Console 啟用
   - 需要部署 Firestore 安全規則

2. **訪客模式限制**
   - 資料僅儲存在本機
   - 清除瀏覽器會遺失資料
   - 無法跨裝置同步

3. **建議使用 Google 登入**
   - 更安全可靠
   - 資料雲端同步
   - 跨裝置訪問

### 🎯 下一步計劃

- [ ] 支援更多登入方式（Facebook, Apple ID）
- [ ] 訪客升級為正式帳號功能
- [ ] 帳號資料匯出/匯入
- [ ] 雙因素認證（2FA）
- [ ] 社交分享功能

---

## v1.0.0 - 初始版本 (2025-10-23)

### 核心功能
- ✅ AI 名片掃描（Google AI Gemini）
- ✅ 聯絡人 CRUD 操作
- ✅ 分組管理
- ✅ 搜尋和篩選
- ✅ 多語言支援（9 種語言）
- ✅ 多種排序方式
- ✅ PWA 支援
- ✅ Firebase 雲端同步
- ✅ 匿名登入

### 技術棧
- Next.js 15
- React 18
- TypeScript
- Firebase (Auth + Firestore)
- Tailwind CSS
- Radix UI
- Google AI (Genkit)

---

**維護者**：BizCard Pro 開發團隊  
**最後更新**：2025-10-23

